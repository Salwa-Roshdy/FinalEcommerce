<section class="bg-main-light rounded-4 shadow p-4 my-2 w-75 mx-auto">
  <div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center">
      <h1 class="h2 text-center">Shop Cart</h1>
      <button (click)="clearCart()" class="btn btn-outline-danger btn-sm">
        Clear Cart
      </button>
    </div>
    <p class="text-main">
      Total Cart Price:{{ cartInfo.totalCartPrice | currency : "GBP" }}
    </p>
    @for (item of cartInfo.products; track item._id) {
    <div class="row mb-1 border-bottom">
      <div class="col-md-1">
        <img
          [src]="item.product.imageCover"
          class="w-100"
          [alt]="item.product.title"
        />
      </div>
      <div class="col-md-11 d-flex align-items-center justify-content-between">
        <div>
          <h3 class="h5">{{ item.product.title }}</h3>
          <p class="text-main m-0">Price:{{ item.price | currency : "GBP" }}</p>
          <button
            (click)="removeItem(item.product._id)"
            class="text-danger cr btn p-0"
          >
            <i class="fa-solid fa-trash"></i>
          </button>
        </div>
        <div class="d-flex align-items-center">
          <button
            (click)="updateProductQuantity(item.product._id, item.count + 1)"
            class="cr text-main btn p-0"
          >
            <i class="fa-solid fa-circle-plus fa-2xl"></i>
          </button>

          <span class="mx-2">{{ item.count }}</span>
          <button
            (click)="updateProductQuantity(item.product._id, item.count - 1)"
            class="cr text-main btn p-0"
          >
            <i class="fa-solid fa-circle-minus fa-2xl"></i>
          </button>
        </div>
      </div>
    </div>
    }
    <button class="btn-main mt-2" [routerLink]="['/orders', cartInfo._id]">
      Orders
    </button>
  </div>
</section>
